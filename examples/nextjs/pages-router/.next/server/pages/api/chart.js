"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/chart";
exports.ids = ["pages/api/chart"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "openai":
/*!*************************!*\
  !*** external "openai" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("openai");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchart&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fchart.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchart&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fchart.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_chart_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/chart.ts */ \"(api)/./src/pages/api/chart.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_chart_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_chart_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_chart_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_chart_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/chart\",\n        pathname: \"/api/chart\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_chart_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNoYXJ0JnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTJGcGFnZXMlMkZhcGklMkZjaGFydC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNxRDtBQUNyRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsb0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG9EQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb21wdGNoYXJ0LW5leHRqcy1wYWdlcy1yb3V0ZXIvPzE0MGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyYy9wYWdlcy9hcGkvY2hhcnQudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jaGFydFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NoYXJ0XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchart&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fchart.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/adapters.ts":
/*!*****************************!*\
  !*** ./src/lib/adapters.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MockDataAdapter: () => (/* binding */ MockDataAdapter)\n/* harmony export */ });\nconst COLORS = {\n    primary: [\n        \"rgba(59, 130, 246, 0.8)\",\n        \"rgba(16, 185, 129, 0.8)\",\n        \"rgba(245, 158, 11, 0.8)\",\n        \"rgba(239, 68, 68, 0.8)\",\n        \"rgba(139, 92, 246, 0.8)\",\n        \"rgba(236, 72, 153, 0.8)\"\n    ],\n    border: [\n        \"rgba(59, 130, 246, 1)\",\n        \"rgba(16, 185, 129, 1)\",\n        \"rgba(245, 158, 11, 1)\",\n        \"rgba(239, 68, 68, 1)\",\n        \"rgba(139, 92, 246, 1)\",\n        \"rgba(236, 72, 153, 1)\"\n    ]\n};\nconst MOCK_DATA = {\n    sales: [\n        {\n            month: \"Jan\",\n            region: \"North\",\n            amount: 45000,\n            quantity: 120,\n            revenue: 45000\n        },\n        {\n            month: \"Jan\",\n            region: \"South\",\n            amount: 38000,\n            quantity: 95,\n            revenue: 38000\n        },\n        {\n            month: \"Feb\",\n            region: \"North\",\n            amount: 52000,\n            quantity: 140,\n            revenue: 52000\n        },\n        {\n            month: \"Feb\",\n            region: \"South\",\n            amount: 41000,\n            quantity: 105,\n            revenue: 41000\n        },\n        {\n            month: \"Mar\",\n            region: \"North\",\n            amount: 48000,\n            quantity: 130,\n            revenue: 48000\n        },\n        {\n            month: \"Mar\",\n            region: \"South\",\n            amount: 44000,\n            quantity: 115,\n            revenue: 44000\n        }\n    ],\n    users: [\n        {\n            month: \"Jan\",\n            channel: \"Organic\",\n            signups: 1200,\n            activeUsers: 8500,\n            sessions: 45000\n        },\n        {\n            month: \"Jan\",\n            channel: \"Paid\",\n            signups: 800,\n            activeUsers: 3200,\n            sessions: 18000\n        },\n        {\n            month: \"Feb\",\n            channel: \"Organic\",\n            signups: 1350,\n            activeUsers: 9200,\n            sessions: 51000\n        },\n        {\n            month: \"Feb\",\n            channel: \"Paid\",\n            signups: 950,\n            activeUsers: 3800,\n            sessions: 21000\n        }\n    ],\n    products: [\n        {\n            product: \"Laptop Pro\",\n            category: \"Electronics\",\n            price: 1299,\n            quantity: 450,\n            revenue: 584550,\n            profit: 184550\n        },\n        {\n            product: \"Wireless Mouse\",\n            category: \"Electronics\",\n            price: 49,\n            quantity: 2200,\n            revenue: 107800,\n            profit: 63800\n        },\n        {\n            product: \"USB-C Hub\",\n            category: \"Electronics\",\n            price: 79,\n            quantity: 1800,\n            revenue: 142200,\n            profit: 88200\n        },\n        {\n            product: \"Headphones\",\n            category: \"Electronics\",\n            price: 199,\n            quantity: 1100,\n            revenue: 218900,\n            profit: 130900\n        }\n    ],\n    orders: [\n        {\n            month: \"Jan\",\n            status: \"completed\",\n            region: \"North\",\n            count: 1250,\n            amount: 125000\n        },\n        {\n            month: \"Jan\",\n            status: \"pending\",\n            region: \"North\",\n            count: 85,\n            amount: 8500\n        },\n        {\n            month: \"Feb\",\n            status: \"completed\",\n            region: \"North\",\n            count: 1380,\n            amount: 138000\n        },\n        {\n            month: \"Mar\",\n            status: \"completed\",\n            region: \"North\",\n            count: 1520,\n            amount: 152000\n        }\n    ],\n    inventory: [\n        {\n            product: \"Laptop Pro\",\n            category: \"Electronics\",\n            quantity: 125,\n            status: \"in_stock\"\n        },\n        {\n            product: \"Wireless Mouse\",\n            category: \"Electronics\",\n            quantity: 580,\n            status: \"in_stock\"\n        },\n        {\n            product: \"USB-C Hub\",\n            category: \"Electronics\",\n            quantity: 45,\n            status: \"low_stock\"\n        },\n        {\n            product: \"Headphones\",\n            category: \"Electronics\",\n            quantity: 0,\n            status: \"out_of_stock\"\n        }\n    ]\n};\nconst DATASET_METADATA = {\n    sales: {\n        metrics: [\n            \"amount\",\n            \"quantity\",\n            \"revenue\"\n        ],\n        dimensions: [\n            \"month\",\n            \"region\",\n            \"category\"\n        ]\n    },\n    users: {\n        metrics: [\n            \"signups\",\n            \"activeUsers\",\n            \"sessions\"\n        ],\n        dimensions: [\n            \"month\",\n            \"channel\"\n        ]\n    },\n    products: {\n        metrics: [\n            \"price\",\n            \"quantity\",\n            \"revenue\",\n            \"profit\"\n        ],\n        dimensions: [\n            \"product\",\n            \"category\"\n        ]\n    },\n    orders: {\n        metrics: [\n            \"count\",\n            \"amount\"\n        ],\n        dimensions: [\n            \"month\",\n            \"status\",\n            \"region\"\n        ]\n    },\n    inventory: {\n        metrics: [\n            \"quantity\"\n        ],\n        dimensions: [\n            \"product\",\n            \"category\",\n            \"status\"\n        ]\n    }\n};\nclass MockDataAdapter {\n    getAvailableDatasets() {\n        return Object.keys(MOCK_DATA);\n    }\n    getAvailableMetrics(dataset) {\n        return DATASET_METADATA[dataset]?.metrics ?? [];\n    }\n    getAvailableDimensions(dataset) {\n        return DATASET_METADATA[dataset]?.dimensions ?? [];\n    }\n    executeQuery(intent) {\n        const data = MOCK_DATA[intent.dataset];\n        if (!data) throw new Error(`Unknown dataset: ${intent.dataset}`);\n        const filtered = this.applyFilters(data, intent.filters);\n        return this.groupAndAggregate(filtered, intent);\n    }\n    applyFilters(data, filters) {\n        if (!filters?.length) return data;\n        return data.filter((record)=>filters.every((f)=>this.checkFilter(record, f)));\n    }\n    checkFilter(record, f) {\n        const value = record[f.field];\n        switch(f.operator){\n            case \"eq\":\n                return value === f.value;\n            case \"neq\":\n                return value !== f.value;\n            default:\n                return true;\n        }\n    }\n    groupAndAggregate(data, intent) {\n        const dimension = intent.dimensions?.[0];\n        const metrics = intent.metrics;\n        if (!dimension) {\n            const labels = metrics.map((m)=>m.label ?? `${m.aggregation}(${m.field})`);\n            const values = metrics.map((m)=>this.aggregate(data, m.field, m.aggregation));\n            return {\n                labels,\n                datasets: [\n                    {\n                        label: \"Value\",\n                        data: values,\n                        backgroundColor: COLORS.primary.slice(0, values.length),\n                        borderColor: COLORS.border.slice(0, values.length),\n                        borderWidth: 1\n                    }\n                ]\n            };\n        }\n        const groups = new Map();\n        for (const record of data){\n            const key = String(record[dimension.field] ?? \"Unknown\");\n            if (!groups.has(key)) groups.set(key, []);\n            groups.get(key).push(record);\n        }\n        const labels = Array.from(groups.keys());\n        const isPie = intent.chartType === \"pie\" || intent.chartType === \"doughnut\";\n        const datasets = metrics.map((metric, idx)=>({\n                label: metric.label ?? `${metric.aggregation}(${metric.field})`,\n                data: labels.map((label)=>this.aggregate(groups.get(label), metric.field, metric.aggregation)),\n                backgroundColor: isPie ? COLORS.primary.slice(0, labels.length) : COLORS.primary[idx % COLORS.primary.length],\n                borderColor: isPie ? COLORS.border.slice(0, labels.length) : COLORS.border[idx % COLORS.border.length],\n                borderWidth: 1\n            }));\n        return {\n            labels,\n            datasets\n        };\n    }\n    aggregate(records, field, aggregation) {\n        const values = records.map((r)=>r[field]).filter((v)=>typeof v === \"number\");\n        if (!values.length) return 0;\n        switch(aggregation){\n            case \"sum\":\n                return values.reduce((a, b)=>a + b, 0);\n            case \"avg\":\n                return values.reduce((a, b)=>a + b, 0) / values.length;\n            case \"min\":\n                return Math.min(...values);\n            case \"max\":\n                return Math.max(...values);\n            case \"count\":\n                return values.length;\n            default:\n                return values.reduce((a, b)=>a + b, 0);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVVvQixPQUFxQixFQUFFN0IsS0FBYSxFQUFFTyxXQUFtQixFQUFVO1FBQ25GLE1BQU1DLFNBQVNxQixRQUFRekIsR0FBRyxDQUFDLENBQUMwQixJQUFNQSxDQUFDLENBQUM5QixNQUFNLEVBQUVOLE1BQU0sQ0FBQyxDQUFDcUMsSUFBbUIsT0FBT0EsTUFBTTtRQUNwRixJQUFJLENBQUN2QixPQUFPZixNQUFNLEVBQUUsT0FBTztRQUUzQixPQUFRYztZQUNOLEtBQUs7Z0JBQ0gsT0FBT0MsT0FBT3dCLE1BQU0sQ0FBQyxDQUFDQyxHQUFHQyxJQUFNRCxJQUFJQyxHQUFHO1lBQ3hDLEtBQUs7Z0JBQ0gsT0FBTzFCLE9BQU93QixNQUFNLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUQsSUFBSUMsR0FBRyxLQUFLMUIsT0FBT2YsTUFBTTtZQUMxRCxLQUFLO2dCQUNILE9BQU8wQyxLQUFLQyxHQUFHLElBQUk1QjtZQUNyQixLQUFLO2dCQUNILE9BQU8yQixLQUFLRSxHQUFHLElBQUk3QjtZQUNyQixLQUFLO2dCQUNILE9BQU9BLE9BQU9mLE1BQU07WUFDdEI7Z0JBQ0UsT0FBT2UsT0FBT3dCLE1BQU0sQ0FBQyxDQUFDQyxHQUFHQyxJQUFNRCxJQUFJQyxHQUFHO1FBQzFDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb21wdGNoYXJ0LW5leHRqcy1wYWdlcy1yb3V0ZXIvLi9zcmMvbGliL2FkYXB0ZXJzLnRzP2Y4MjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDaGFydEludGVudCwgQ2hhcnREYXRhLCBDaGFydERhdGFzZXQsIERhdGFzZXQsIEZpbHRlciB9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBDT0xPUlMgPSB7XG4gIHByaW1hcnk6IFtcbiAgICAncmdiYSg1OSwgMTMwLCAyNDYsIDAuOCknLFxuICAgICdyZ2JhKDE2LCAxODUsIDEyOSwgMC44KScsXG4gICAgJ3JnYmEoMjQ1LCAxNTgsIDExLCAwLjgpJyxcbiAgICAncmdiYSgyMzksIDY4LCA2OCwgMC44KScsXG4gICAgJ3JnYmEoMTM5LCA5MiwgMjQ2LCAwLjgpJyxcbiAgICAncmdiYSgyMzYsIDcyLCAxNTMsIDAuOCknLFxuICBdLFxuICBib3JkZXI6IFtcbiAgICAncmdiYSg1OSwgMTMwLCAyNDYsIDEpJyxcbiAgICAncmdiYSgxNiwgMTg1LCAxMjksIDEpJyxcbiAgICAncmdiYSgyNDUsIDE1OCwgMTEsIDEpJyxcbiAgICAncmdiYSgyMzksIDY4LCA2OCwgMSknLFxuICAgICdyZ2JhKDEzOSwgOTIsIDI0NiwgMSknLFxuICAgICdyZ2JhKDIzNiwgNzIsIDE1MywgMSknLFxuICBdLFxufTtcblxudHlwZSBEYXRhUmVjb3JkID0gUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPjtcblxuY29uc3QgTU9DS19EQVRBOiBSZWNvcmQ8RGF0YXNldCwgRGF0YVJlY29yZFtdPiA9IHtcbiAgc2FsZXM6IFtcbiAgICB7IG1vbnRoOiAnSmFuJywgcmVnaW9uOiAnTm9ydGgnLCBhbW91bnQ6IDQ1MDAwLCBxdWFudGl0eTogMTIwLCByZXZlbnVlOiA0NTAwMCB9LFxuICAgIHsgbW9udGg6ICdKYW4nLCByZWdpb246ICdTb3V0aCcsIGFtb3VudDogMzgwMDAsIHF1YW50aXR5OiA5NSwgcmV2ZW51ZTogMzgwMDAgfSxcbiAgICB7IG1vbnRoOiAnRmViJywgcmVnaW9uOiAnTm9ydGgnLCBhbW91bnQ6IDUyMDAwLCBxdWFudGl0eTogMTQwLCByZXZlbnVlOiA1MjAwMCB9LFxuICAgIHsgbW9udGg6ICdGZWInLCByZWdpb246ICdTb3V0aCcsIGFtb3VudDogNDEwMDAsIHF1YW50aXR5OiAxMDUsIHJldmVudWU6IDQxMDAwIH0sXG4gICAgeyBtb250aDogJ01hcicsIHJlZ2lvbjogJ05vcnRoJywgYW1vdW50OiA0ODAwMCwgcXVhbnRpdHk6IDEzMCwgcmV2ZW51ZTogNDgwMDAgfSxcbiAgICB7IG1vbnRoOiAnTWFyJywgcmVnaW9uOiAnU291dGgnLCBhbW91bnQ6IDQ0MDAwLCBxdWFudGl0eTogMTE1LCByZXZlbnVlOiA0NDAwMCB9LFxuICBdLFxuICB1c2VyczogW1xuICAgIHsgbW9udGg6ICdKYW4nLCBjaGFubmVsOiAnT3JnYW5pYycsIHNpZ251cHM6IDEyMDAsIGFjdGl2ZVVzZXJzOiA4NTAwLCBzZXNzaW9uczogNDUwMDAgfSxcbiAgICB7IG1vbnRoOiAnSmFuJywgY2hhbm5lbDogJ1BhaWQnLCBzaWdudXBzOiA4MDAsIGFjdGl2ZVVzZXJzOiAzMjAwLCBzZXNzaW9uczogMTgwMDAgfSxcbiAgICB7IG1vbnRoOiAnRmViJywgY2hhbm5lbDogJ09yZ2FuaWMnLCBzaWdudXBzOiAxMzUwLCBhY3RpdmVVc2VyczogOTIwMCwgc2Vzc2lvbnM6IDUxMDAwIH0sXG4gICAgeyBtb250aDogJ0ZlYicsIGNoYW5uZWw6ICdQYWlkJywgc2lnbnVwczogOTUwLCBhY3RpdmVVc2VyczogMzgwMCwgc2Vzc2lvbnM6IDIxMDAwIH0sXG4gIF0sXG4gIHByb2R1Y3RzOiBbXG4gICAgeyBwcm9kdWN0OiAnTGFwdG9wIFBybycsIGNhdGVnb3J5OiAnRWxlY3Ryb25pY3MnLCBwcmljZTogMTI5OSwgcXVhbnRpdHk6IDQ1MCwgcmV2ZW51ZTogNTg0NTUwLCBwcm9maXQ6IDE4NDU1MCB9LFxuICAgIHsgcHJvZHVjdDogJ1dpcmVsZXNzIE1vdXNlJywgY2F0ZWdvcnk6ICdFbGVjdHJvbmljcycsIHByaWNlOiA0OSwgcXVhbnRpdHk6IDIyMDAsIHJldmVudWU6IDEwNzgwMCwgcHJvZml0OiA2MzgwMCB9LFxuICAgIHsgcHJvZHVjdDogJ1VTQi1DIEh1YicsIGNhdGVnb3J5OiAnRWxlY3Ryb25pY3MnLCBwcmljZTogNzksIHF1YW50aXR5OiAxODAwLCByZXZlbnVlOiAxNDIyMDAsIHByb2ZpdDogODgyMDAgfSxcbiAgICB7IHByb2R1Y3Q6ICdIZWFkcGhvbmVzJywgY2F0ZWdvcnk6ICdFbGVjdHJvbmljcycsIHByaWNlOiAxOTksIHF1YW50aXR5OiAxMTAwLCByZXZlbnVlOiAyMTg5MDAsIHByb2ZpdDogMTMwOTAwIH0sXG4gIF0sXG4gIG9yZGVyczogW1xuICAgIHsgbW9udGg6ICdKYW4nLCBzdGF0dXM6ICdjb21wbGV0ZWQnLCByZWdpb246ICdOb3J0aCcsIGNvdW50OiAxMjUwLCBhbW91bnQ6IDEyNTAwMCB9LFxuICAgIHsgbW9udGg6ICdKYW4nLCBzdGF0dXM6ICdwZW5kaW5nJywgcmVnaW9uOiAnTm9ydGgnLCBjb3VudDogODUsIGFtb3VudDogODUwMCB9LFxuICAgIHsgbW9udGg6ICdGZWInLCBzdGF0dXM6ICdjb21wbGV0ZWQnLCByZWdpb246ICdOb3J0aCcsIGNvdW50OiAxMzgwLCBhbW91bnQ6IDEzODAwMCB9LFxuICAgIHsgbW9udGg6ICdNYXInLCBzdGF0dXM6ICdjb21wbGV0ZWQnLCByZWdpb246ICdOb3J0aCcsIGNvdW50OiAxNTIwLCBhbW91bnQ6IDE1MjAwMCB9LFxuICBdLFxuICBpbnZlbnRvcnk6IFtcbiAgICB7IHByb2R1Y3Q6ICdMYXB0b3AgUHJvJywgY2F0ZWdvcnk6ICdFbGVjdHJvbmljcycsIHF1YW50aXR5OiAxMjUsIHN0YXR1czogJ2luX3N0b2NrJyB9LFxuICAgIHsgcHJvZHVjdDogJ1dpcmVsZXNzIE1vdXNlJywgY2F0ZWdvcnk6ICdFbGVjdHJvbmljcycsIHF1YW50aXR5OiA1ODAsIHN0YXR1czogJ2luX3N0b2NrJyB9LFxuICAgIHsgcHJvZHVjdDogJ1VTQi1DIEh1YicsIGNhdGVnb3J5OiAnRWxlY3Ryb25pY3MnLCBxdWFudGl0eTogNDUsIHN0YXR1czogJ2xvd19zdG9jaycgfSxcbiAgICB7IHByb2R1Y3Q6ICdIZWFkcGhvbmVzJywgY2F0ZWdvcnk6ICdFbGVjdHJvbmljcycsIHF1YW50aXR5OiAwLCBzdGF0dXM6ICdvdXRfb2Zfc3RvY2snIH0sXG4gIF0sXG59O1xuXG5jb25zdCBEQVRBU0VUX01FVEFEQVRBOiBSZWNvcmQ8RGF0YXNldCwgeyBtZXRyaWNzOiBzdHJpbmdbXTsgZGltZW5zaW9uczogc3RyaW5nW10gfT4gPSB7XG4gIHNhbGVzOiB7IG1ldHJpY3M6IFsnYW1vdW50JywgJ3F1YW50aXR5JywgJ3JldmVudWUnXSwgZGltZW5zaW9uczogWydtb250aCcsICdyZWdpb24nLCAnY2F0ZWdvcnknXSB9LFxuICB1c2VyczogeyBtZXRyaWNzOiBbJ3NpZ251cHMnLCAnYWN0aXZlVXNlcnMnLCAnc2Vzc2lvbnMnXSwgZGltZW5zaW9uczogWydtb250aCcsICdjaGFubmVsJ10gfSxcbiAgcHJvZHVjdHM6IHsgbWV0cmljczogWydwcmljZScsICdxdWFudGl0eScsICdyZXZlbnVlJywgJ3Byb2ZpdCddLCBkaW1lbnNpb25zOiBbJ3Byb2R1Y3QnLCAnY2F0ZWdvcnknXSB9LFxuICBvcmRlcnM6IHsgbWV0cmljczogWydjb3VudCcsICdhbW91bnQnXSwgZGltZW5zaW9uczogWydtb250aCcsICdzdGF0dXMnLCAncmVnaW9uJ10gfSxcbiAgaW52ZW50b3J5OiB7IG1ldHJpY3M6IFsncXVhbnRpdHknXSwgZGltZW5zaW9uczogWydwcm9kdWN0JywgJ2NhdGVnb3J5JywgJ3N0YXR1cyddIH0sXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFBZGFwdGVyIHtcbiAgZ2V0QXZhaWxhYmxlRGF0YXNldHMoKTogRGF0YXNldFtdO1xuICBnZXRBdmFpbGFibGVNZXRyaWNzKGRhdGFzZXQ6IERhdGFzZXQpOiBzdHJpbmdbXTtcbiAgZ2V0QXZhaWxhYmxlRGltZW5zaW9ucyhkYXRhc2V0OiBEYXRhc2V0KTogc3RyaW5nW107XG4gIGV4ZWN1dGVRdWVyeShpbnRlbnQ6IENoYXJ0SW50ZW50KTogQ2hhcnREYXRhO1xufVxuXG5leHBvcnQgY2xhc3MgTW9ja0RhdGFBZGFwdGVyIGltcGxlbWVudHMgRGF0YUFkYXB0ZXIge1xuICBnZXRBdmFpbGFibGVEYXRhc2V0cygpOiBEYXRhc2V0W10ge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhNT0NLX0RBVEEpIGFzIERhdGFzZXRbXTtcbiAgfVxuXG4gIGdldEF2YWlsYWJsZU1ldHJpY3MoZGF0YXNldDogRGF0YXNldCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gREFUQVNFVF9NRVRBREFUQVtkYXRhc2V0XT8ubWV0cmljcyA/PyBbXTtcbiAgfVxuXG4gIGdldEF2YWlsYWJsZURpbWVuc2lvbnMoZGF0YXNldDogRGF0YXNldCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gREFUQVNFVF9NRVRBREFUQVtkYXRhc2V0XT8uZGltZW5zaW9ucyA/PyBbXTtcbiAgfVxuXG4gIGV4ZWN1dGVRdWVyeShpbnRlbnQ6IENoYXJ0SW50ZW50KTogQ2hhcnREYXRhIHtcbiAgICBjb25zdCBkYXRhID0gTU9DS19EQVRBW2ludGVudC5kYXRhc2V0XTtcbiAgICBpZiAoIWRhdGEpIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBkYXRhc2V0OiAke2ludGVudC5kYXRhc2V0fWApO1xuXG4gICAgY29uc3QgZmlsdGVyZWQgPSB0aGlzLmFwcGx5RmlsdGVycyhkYXRhLCBpbnRlbnQuZmlsdGVycyk7XG4gICAgcmV0dXJuIHRoaXMuZ3JvdXBBbmRBZ2dyZWdhdGUoZmlsdGVyZWQsIGludGVudCk7XG4gIH1cblxuICBwcml2YXRlIGFwcGx5RmlsdGVycyhkYXRhOiBEYXRhUmVjb3JkW10sIGZpbHRlcnM/OiBGaWx0ZXJbXSk6IERhdGFSZWNvcmRbXSB7XG4gICAgaWYgKCFmaWx0ZXJzPy5sZW5ndGgpIHJldHVybiBkYXRhO1xuICAgIHJldHVybiBkYXRhLmZpbHRlcigocmVjb3JkKSA9PiBmaWx0ZXJzLmV2ZXJ5KChmKSA9PiB0aGlzLmNoZWNrRmlsdGVyKHJlY29yZCwgZikpKTtcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tGaWx0ZXIocmVjb3JkOiBEYXRhUmVjb3JkLCBmOiBGaWx0ZXIpOiBib29sZWFuIHtcbiAgICBjb25zdCB2YWx1ZSA9IHJlY29yZFtmLmZpZWxkXTtcbiAgICBzd2l0Y2ggKGYub3BlcmF0b3IpIHtcbiAgICAgIGNhc2UgJ2VxJzpcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBmLnZhbHVlO1xuICAgICAgY2FzZSAnbmVxJzpcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBmLnZhbHVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBncm91cEFuZEFnZ3JlZ2F0ZShkYXRhOiBEYXRhUmVjb3JkW10sIGludGVudDogQ2hhcnRJbnRlbnQpOiBDaGFydERhdGEge1xuICAgIGNvbnN0IGRpbWVuc2lvbiA9IGludGVudC5kaW1lbnNpb25zPy5bMF07XG4gICAgY29uc3QgbWV0cmljcyA9IGludGVudC5tZXRyaWNzO1xuXG4gICAgaWYgKCFkaW1lbnNpb24pIHtcbiAgICAgIGNvbnN0IGxhYmVscyA9IG1ldHJpY3MubWFwKChtKSA9PiBtLmxhYmVsID8/IGAke20uYWdncmVnYXRpb259KCR7bS5maWVsZH0pYCk7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBtZXRyaWNzLm1hcCgobSkgPT4gdGhpcy5hZ2dyZWdhdGUoZGF0YSwgbS5maWVsZCwgbS5hZ2dyZWdhdGlvbikpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFiZWxzLFxuICAgICAgICBkYXRhc2V0czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxhYmVsOiAnVmFsdWUnLFxuICAgICAgICAgICAgZGF0YTogdmFsdWVzLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBDT0xPUlMucHJpbWFyeS5zbGljZSgwLCB2YWx1ZXMubGVuZ3RoKSxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBDT0xPUlMuYm9yZGVyLnNsaWNlKDAsIHZhbHVlcy5sZW5ndGgpLFxuICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDEsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgZ3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIERhdGFSZWNvcmRbXT4oKTtcbiAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiBkYXRhKSB7XG4gICAgICBjb25zdCBrZXkgPSBTdHJpbmcocmVjb3JkW2RpbWVuc2lvbi5maWVsZF0gPz8gJ1Vua25vd24nKTtcbiAgICAgIGlmICghZ3JvdXBzLmhhcyhrZXkpKSBncm91cHMuc2V0KGtleSwgW10pO1xuICAgICAgZ3JvdXBzLmdldChrZXkpIS5wdXNoKHJlY29yZCk7XG4gICAgfVxuXG4gICAgY29uc3QgbGFiZWxzID0gQXJyYXkuZnJvbShncm91cHMua2V5cygpKTtcbiAgICBjb25zdCBpc1BpZSA9IGludGVudC5jaGFydFR5cGUgPT09ICdwaWUnIHx8IGludGVudC5jaGFydFR5cGUgPT09ICdkb3VnaG51dCc7XG5cbiAgICBjb25zdCBkYXRhc2V0czogQ2hhcnREYXRhc2V0W10gPSBtZXRyaWNzLm1hcCgobWV0cmljLCBpZHgpID0+ICh7XG4gICAgICBsYWJlbDogbWV0cmljLmxhYmVsID8/IGAke21ldHJpYy5hZ2dyZWdhdGlvbn0oJHttZXRyaWMuZmllbGR9KWAsXG4gICAgICBkYXRhOiBsYWJlbHMubWFwKChsYWJlbCkgPT4gdGhpcy5hZ2dyZWdhdGUoZ3JvdXBzLmdldChsYWJlbCkhLCBtZXRyaWMuZmllbGQsIG1ldHJpYy5hZ2dyZWdhdGlvbikpLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBpc1BpZSA/IENPTE9SUy5wcmltYXJ5LnNsaWNlKDAsIGxhYmVscy5sZW5ndGgpIDogQ09MT1JTLnByaW1hcnlbaWR4ICUgQ09MT1JTLnByaW1hcnkubGVuZ3RoXSxcbiAgICAgIGJvcmRlckNvbG9yOiBpc1BpZSA/IENPTE9SUy5ib3JkZXIuc2xpY2UoMCwgbGFiZWxzLmxlbmd0aCkgOiBDT0xPUlMuYm9yZGVyW2lkeCAlIENPTE9SUy5ib3JkZXIubGVuZ3RoXSxcbiAgICAgIGJvcmRlcldpZHRoOiAxLFxuICAgIH0pKTtcblxuICAgIHJldHVybiB7IGxhYmVscywgZGF0YXNldHMgfTtcbiAgfVxuXG4gIHByaXZhdGUgYWdncmVnYXRlKHJlY29yZHM6IERhdGFSZWNvcmRbXSwgZmllbGQ6IHN0cmluZywgYWdncmVnYXRpb246IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgdmFsdWVzID0gcmVjb3Jkcy5tYXAoKHIpID0+IHJbZmllbGRdKS5maWx0ZXIoKHYpOiB2IGlzIG51bWJlciA9PiB0eXBlb2YgdiA9PT0gJ251bWJlcicpO1xuICAgIGlmICghdmFsdWVzLmxlbmd0aCkgcmV0dXJuIDA7XG5cbiAgICBzd2l0Y2ggKGFnZ3JlZ2F0aW9uKSB7XG4gICAgICBjYXNlICdzdW0nOlxuICAgICAgICByZXR1cm4gdmFsdWVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xuICAgICAgY2FzZSAnYXZnJzpcbiAgICAgICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIHZhbHVlcy5sZW5ndGg7XG4gICAgICBjYXNlICdtaW4nOlxuICAgICAgICByZXR1cm4gTWF0aC5taW4oLi4udmFsdWVzKTtcbiAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgIHJldHVybiBNYXRoLm1heCguLi52YWx1ZXMpO1xuICAgICAgY2FzZSAnY291bnQnOlxuICAgICAgICByZXR1cm4gdmFsdWVzLmxlbmd0aDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiQ09MT1JTIiwicHJpbWFyeSIsImJvcmRlciIsIk1PQ0tfREFUQSIsInNhbGVzIiwibW9udGgiLCJyZWdpb24iLCJhbW91bnQiLCJxdWFudGl0eSIsInJldmVudWUiLCJ1c2VycyIsImNoYW5uZWwiLCJzaWdudXBzIiwiYWN0aXZlVXNlcnMiLCJzZXNzaW9ucyIsInByb2R1Y3RzIiwicHJvZHVjdCIsImNhdGVnb3J5IiwicHJpY2UiLCJwcm9maXQiLCJvcmRlcnMiLCJzdGF0dXMiLCJjb3VudCIsImludmVudG9yeSIsIkRBVEFTRVRfTUVUQURBVEEiLCJtZXRyaWNzIiwiZGltZW5zaW9ucyIsIk1vY2tEYXRhQWRhcHRlciIsImdldEF2YWlsYWJsZURhdGFzZXRzIiwiT2JqZWN0Iiwia2V5cyIsImdldEF2YWlsYWJsZU1ldHJpY3MiLCJkYXRhc2V0IiwiZ2V0QXZhaWxhYmxlRGltZW5zaW9ucyIsImV4ZWN1dGVRdWVyeSIsImludGVudCIsImRhdGEiLCJFcnJvciIsImZpbHRlcmVkIiwiYXBwbHlGaWx0ZXJzIiwiZmlsdGVycyIsImdyb3VwQW5kQWdncmVnYXRlIiwibGVuZ3RoIiwiZmlsdGVyIiwicmVjb3JkIiwiZXZlcnkiLCJmIiwiY2hlY2tGaWx0ZXIiLCJ2YWx1ZSIsImZpZWxkIiwib3BlcmF0b3IiLCJkaW1lbnNpb24iLCJsYWJlbHMiLCJtYXAiLCJtIiwibGFiZWwiLCJhZ2dyZWdhdGlvbiIsInZhbHVlcyIsImFnZ3JlZ2F0ZSIsImRhdGFzZXRzIiwiYmFja2dyb3VuZENvbG9yIiwic2xpY2UiLCJib3JkZXJDb2xvciIsImJvcmRlcldpZHRoIiwiZ3JvdXBzIiwiTWFwIiwia2V5IiwiU3RyaW5nIiwiaGFzIiwic2V0IiwiZ2V0IiwicHVzaCIsIkFycmF5IiwiZnJvbSIsImlzUGllIiwiY2hhcnRUeXBlIiwibWV0cmljIiwiaWR4IiwicmVjb3JkcyIsInIiLCJ2IiwicmVkdWNlIiwiYSIsImIiLCJNYXRoIiwibWluIiwibWF4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/lib/adapters.ts\n");

/***/ }),

/***/ "(api)/./src/lib/llm.ts":
/*!************************!*\
  !*** ./src/lib/llm.ts ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenAIProvider: () => (/* binding */ OpenAIProvider)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"openai\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([openai__WEBPACK_IMPORTED_MODULE_0__]);\nopenai__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst SYSTEM_PROMPT = `You are a data visualization assistant. Convert natural language requests into JSON chart specifications.\n\nRespond with valid JSON only:\n{\n  \"dataset\": string,\n  \"metrics\": [{\"field\": string, \"aggregation\": \"sum\"|\"avg\"|\"min\"|\"max\"|\"count\"}],\n  \"dimensions\": [{\"field\": string, \"granularity\": \"day\"|\"week\"|\"month\"|\"quarter\"|\"year\"}],\n  \"filters\": [{\"field\": string, \"operator\": \"eq\"|\"neq\"|\"gt\"|\"gte\"|\"lt\"|\"lte\"|\"in\", \"value\": any}],\n  \"chartType\": \"bar\"|\"line\"|\"pie\"|\"doughnut\"|\"area\"|\"scatter\",\n  \"title\": string\n}\n\nUse only metrics/dimensions from the chosen dataset. Choose appropriate chart types.`;\nclass OpenAIProvider {\n    constructor(apiKey, model = \"gpt-4o-mini\"){\n        this.client = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n            apiKey\n        });\n        this.model = model;\n    }\n    async generateIntent(prompt, context) {\n        const datasetInfo = Object.entries(context.datasets).map(([name, meta])=>`  ${name}: metrics=[${meta.metrics.join(\", \")}], dimensions=[${meta.dimensions.join(\", \")}]`).join(\"\\n\");\n        const contextMsg = `Available datasets:\\n${datasetInfo}\\nChart types: ${context.availableChartTypes.join(\", \")}`;\n        const response = await this.client.chat.completions.create({\n            model: this.model,\n            messages: [\n                {\n                    role: \"system\",\n                    content: SYSTEM_PROMPT\n                },\n                {\n                    role: \"user\",\n                    content: `${contextMsg}\\n\\nRequest: ${prompt}`\n                }\n            ],\n            max_tokens: 1000,\n            temperature: 0.1,\n            response_format: {\n                type: \"json_object\"\n            }\n        });\n        const content = response.choices[0]?.message?.content;\n        if (!content) throw new Error(\"No response from OpenAI\");\n        return JSON.parse(content);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2xsbS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE0QjtBQUc1QixNQUFNQyxnQkFBZ0IsQ0FBQzs7Ozs7Ozs7Ozs7O29GQVk2RCxDQUFDO0FBVzlFLE1BQU1DO0lBSVhDLFlBQVlDLE1BQWMsRUFBRUMsUUFBUSxhQUFhLENBQUU7UUFDakQsSUFBSSxDQUFDQyxNQUFNLEdBQUcsSUFBSU4sOENBQU1BLENBQUM7WUFBRUk7UUFBTztRQUNsQyxJQUFJLENBQUNDLEtBQUssR0FBR0E7SUFDZjtJQUVBLE1BQU1FLGVBQWVDLE1BQWMsRUFBRUMsT0FBc0IsRUFBd0I7UUFDakYsTUFBTUMsY0FBY0MsT0FBT0MsT0FBTyxDQUFDSCxRQUFRSSxRQUFRLEVBQ2hEQyxHQUFHLENBQUMsQ0FBQyxDQUFDQyxNQUFNQyxLQUFLLEdBQUssQ0FBQyxFQUFFLEVBQUVELEtBQUssV0FBVyxFQUFFQyxLQUFLQyxPQUFPLENBQUNDLElBQUksQ0FBQyxNQUFNLGVBQWUsRUFBRUYsS0FBS0csVUFBVSxDQUFDRCxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFDbkhBLElBQUksQ0FBQztRQUVSLE1BQU1FLGFBQWEsQ0FBQyxxQkFBcUIsRUFBRVYsWUFBWSxlQUFlLEVBQUVELFFBQVFZLG1CQUFtQixDQUFDSCxJQUFJLENBQUMsTUFBTSxDQUFDO1FBRWhILE1BQU1JLFdBQVcsTUFBTSxJQUFJLENBQUNoQixNQUFNLENBQUNpQixJQUFJLENBQUNDLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDO1lBQ3pEcEIsT0FBTyxJQUFJLENBQUNBLEtBQUs7WUFDakJxQixVQUFVO2dCQUNSO29CQUFFQyxNQUFNO29CQUFVQyxTQUFTM0I7Z0JBQWM7Z0JBQ3pDO29CQUFFMEIsTUFBTTtvQkFBUUMsU0FBUyxDQUFDLEVBQUVSLFdBQVcsYUFBYSxFQUFFWixPQUFPLENBQUM7Z0JBQUM7YUFDaEU7WUFDRHFCLFlBQVk7WUFDWkMsYUFBYTtZQUNiQyxpQkFBaUI7Z0JBQUVDLE1BQU07WUFBYztRQUN6QztRQUVBLE1BQU1KLFVBQVVOLFNBQVNXLE9BQU8sQ0FBQyxFQUFFLEVBQUVDLFNBQVNOO1FBQzlDLElBQUksQ0FBQ0EsU0FBUyxNQUFNLElBQUlPLE1BQU07UUFFOUIsT0FBT0MsS0FBS0MsS0FBSyxDQUFDVDtJQUNwQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvbXB0Y2hhcnQtbmV4dGpzLXBhZ2VzLXJvdXRlci8uL3NyYy9saWIvbGxtLnRzPzNjMzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9wZW5BSSBmcm9tICdvcGVuYWknO1xuaW1wb3J0IHR5cGUgeyBDaGFydEludGVudCB9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBTWVNURU1fUFJPTVBUID0gYFlvdSBhcmUgYSBkYXRhIHZpc3VhbGl6YXRpb24gYXNzaXN0YW50LiBDb252ZXJ0IG5hdHVyYWwgbGFuZ3VhZ2UgcmVxdWVzdHMgaW50byBKU09OIGNoYXJ0IHNwZWNpZmljYXRpb25zLlxuXG5SZXNwb25kIHdpdGggdmFsaWQgSlNPTiBvbmx5Olxue1xuICBcImRhdGFzZXRcIjogc3RyaW5nLFxuICBcIm1ldHJpY3NcIjogW3tcImZpZWxkXCI6IHN0cmluZywgXCJhZ2dyZWdhdGlvblwiOiBcInN1bVwifFwiYXZnXCJ8XCJtaW5cInxcIm1heFwifFwiY291bnRcIn1dLFxuICBcImRpbWVuc2lvbnNcIjogW3tcImZpZWxkXCI6IHN0cmluZywgXCJncmFudWxhcml0eVwiOiBcImRheVwifFwid2Vla1wifFwibW9udGhcInxcInF1YXJ0ZXJcInxcInllYXJcIn1dLFxuICBcImZpbHRlcnNcIjogW3tcImZpZWxkXCI6IHN0cmluZywgXCJvcGVyYXRvclwiOiBcImVxXCJ8XCJuZXFcInxcImd0XCJ8XCJndGVcInxcImx0XCJ8XCJsdGVcInxcImluXCIsIFwidmFsdWVcIjogYW55fV0sXG4gIFwiY2hhcnRUeXBlXCI6IFwiYmFyXCJ8XCJsaW5lXCJ8XCJwaWVcInxcImRvdWdobnV0XCJ8XCJhcmVhXCJ8XCJzY2F0dGVyXCIsXG4gIFwidGl0bGVcIjogc3RyaW5nXG59XG5cblVzZSBvbmx5IG1ldHJpY3MvZGltZW5zaW9ucyBmcm9tIHRoZSBjaG9zZW4gZGF0YXNldC4gQ2hvb3NlIGFwcHJvcHJpYXRlIGNoYXJ0IHR5cGVzLmA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZW50Q29udGV4dCB7XG4gIGRhdGFzZXRzOiBSZWNvcmQ8c3RyaW5nLCB7IG1ldHJpY3M6IHN0cmluZ1tdOyBkaW1lbnNpb25zOiBzdHJpbmdbXSB9PjtcbiAgYXZhaWxhYmxlQ2hhcnRUeXBlczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTExNUHJvdmlkZXIge1xuICBnZW5lcmF0ZUludGVudChwcm9tcHQ6IHN0cmluZywgY29udGV4dDogSW50ZW50Q29udGV4dCk6IFByb21pc2U8Q2hhcnRJbnRlbnQ+O1xufVxuXG5leHBvcnQgY2xhc3MgT3BlbkFJUHJvdmlkZXIgaW1wbGVtZW50cyBMTE1Qcm92aWRlciB7XG4gIHByaXZhdGUgY2xpZW50OiBPcGVuQUk7XG4gIHByaXZhdGUgbW9kZWw6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihhcGlLZXk6IHN0cmluZywgbW9kZWwgPSAnZ3B0LTRvLW1pbmknKSB7XG4gICAgdGhpcy5jbGllbnQgPSBuZXcgT3BlbkFJKHsgYXBpS2V5IH0pO1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlSW50ZW50KHByb21wdDogc3RyaW5nLCBjb250ZXh0OiBJbnRlbnRDb250ZXh0KTogUHJvbWlzZTxDaGFydEludGVudD4ge1xuICAgIGNvbnN0IGRhdGFzZXRJbmZvID0gT2JqZWN0LmVudHJpZXMoY29udGV4dC5kYXRhc2V0cylcbiAgICAgIC5tYXAoKFtuYW1lLCBtZXRhXSkgPT4gYCAgJHtuYW1lfTogbWV0cmljcz1bJHttZXRhLm1ldHJpY3Muam9pbignLCAnKX1dLCBkaW1lbnNpb25zPVske21ldGEuZGltZW5zaW9ucy5qb2luKCcsICcpfV1gKVxuICAgICAgLmpvaW4oJ1xcbicpO1xuXG4gICAgY29uc3QgY29udGV4dE1zZyA9IGBBdmFpbGFibGUgZGF0YXNldHM6XFxuJHtkYXRhc2V0SW5mb31cXG5DaGFydCB0eXBlczogJHtjb250ZXh0LmF2YWlsYWJsZUNoYXJ0VHlwZXMuam9pbignLCAnKX1gO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICBtb2RlbDogdGhpcy5tb2RlbCxcbiAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgIHsgcm9sZTogJ3N5c3RlbScsIGNvbnRlbnQ6IFNZU1RFTV9QUk9NUFQgfSxcbiAgICAgICAgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IGAke2NvbnRleHRNc2d9XFxuXFxuUmVxdWVzdDogJHtwcm9tcHR9YCB9LFxuICAgICAgXSxcbiAgICAgIG1heF90b2tlbnM6IDEwMDAsXG4gICAgICB0ZW1wZXJhdHVyZTogMC4xLFxuICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6ICdqc29uX29iamVjdCcgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGNvbnRlbnQgPSByZXNwb25zZS5jaG9pY2VzWzBdPy5tZXNzYWdlPy5jb250ZW50O1xuICAgIGlmICghY29udGVudCkgdGhyb3cgbmV3IEVycm9yKCdObyByZXNwb25zZSBmcm9tIE9wZW5BSScpO1xuXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCkgYXMgQ2hhcnRJbnRlbnQ7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJPcGVuQUkiLCJTWVNURU1fUFJPTVBUIiwiT3BlbkFJUHJvdmlkZXIiLCJjb25zdHJ1Y3RvciIsImFwaUtleSIsIm1vZGVsIiwiY2xpZW50IiwiZ2VuZXJhdGVJbnRlbnQiLCJwcm9tcHQiLCJjb250ZXh0IiwiZGF0YXNldEluZm8iLCJPYmplY3QiLCJlbnRyaWVzIiwiZGF0YXNldHMiLCJtYXAiLCJuYW1lIiwibWV0YSIsIm1ldHJpY3MiLCJqb2luIiwiZGltZW5zaW9ucyIsImNvbnRleHRNc2ciLCJhdmFpbGFibGVDaGFydFR5cGVzIiwicmVzcG9uc2UiLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwibWF4X3Rva2VucyIsInRlbXBlcmF0dXJlIiwicmVzcG9uc2VfZm9ybWF0IiwidHlwZSIsImNob2ljZXMiLCJtZXNzYWdlIiwiRXJyb3IiLCJKU09OIiwicGFyc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/llm.ts\n");

/***/ }),

/***/ "(api)/./src/lib/resolver.ts":
/*!*****************************!*\
  !*** ./src/lib/resolver.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IntentResolver: () => (/* binding */ IntentResolver)\n/* harmony export */ });\nconst GRANULARITY_MAP = {\n    daily: \"day\",\n    weekly: \"week\",\n    monthly: \"month\",\n    quarterly: \"quarter\",\n    yearly: \"year\",\n    annual: \"year\",\n    day: \"day\",\n    week: \"week\",\n    month: \"month\",\n    quarter: \"quarter\",\n    year: \"year\"\n};\nclass IntentResolver {\n    constructor(llm, adapter){\n        this.llm = llm;\n        this.adapter = adapter;\n    }\n    async resolve(prompt) {\n        // Build context for LLM\n        const datasets = {};\n        for (const ds of this.adapter.getAvailableDatasets()){\n            datasets[ds] = {\n                metrics: this.adapter.getAvailableMetrics(ds),\n                dimensions: this.adapter.getAvailableDimensions(ds)\n            };\n        }\n        const context = {\n            datasets,\n            availableChartTypes: [\n                \"bar\",\n                \"line\",\n                \"pie\",\n                \"doughnut\",\n                \"area\",\n                \"scatter\"\n            ]\n        };\n        // Generate and normalize intent\n        const intent = await this.llm.generateIntent(prompt, context);\n        this.normalizeIntent(intent);\n        // Execute query\n        const data = this.adapter.executeQuery(intent);\n        // Build response\n        return {\n            chartSpec: this.buildChartSpec(intent),\n            data,\n            metadata: {\n                generatedAt: new Date().toISOString(),\n                dataset: intent.dataset,\n                recordCount: data.labels.length\n            }\n        };\n    }\n    normalizeIntent(intent) {\n        if (intent.dimensions) {\n            for (const dim of intent.dimensions){\n                if (dim.granularity) {\n                    const normalized = GRANULARITY_MAP[dim.granularity.toLowerCase()];\n                    if (normalized) dim.granularity = normalized;\n                    else delete dim.granularity;\n                }\n            }\n        }\n    }\n    buildChartSpec(intent) {\n        const dimension = intent.dimensions?.[0];\n        const metric = intent.metrics[0];\n        const metricLabel = metric.label ?? `${metric.aggregation}(${metric.field})`;\n        return {\n            type: intent.chartType,\n            title: intent.title ?? `${metricLabel} by ${dimension?.field ?? \"value\"}`,\n            xAxis: dimension ? {\n                label: dimension.field,\n                type: \"category\"\n            } : undefined,\n            yAxis: {\n                label: metricLabel,\n                type: \"linear\"\n            },\n            legend: {\n                position: \"top\",\n                display: intent.metrics.length > 1 || intent.chartType === \"pie\" || intent.chartType === \"doughnut\"\n            }\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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InNvdXJjZXMiOlsid2VicGFjazovL3Byb21wdGNoYXJ0LW5leHRqcy1wYWdlcy1yb3V0ZXIvLi9zcmMvbGliL3Jlc29sdmVyLnRzPzRmZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBEYXRhQWRhcHRlciB9IGZyb20gJy4vYWRhcHRlcnMnO1xuaW1wb3J0IHR5cGUgeyBMTE1Qcm92aWRlciwgSW50ZW50Q29udGV4dCB9IGZyb20gJy4vbGxtJztcbmltcG9ydCB0eXBlIHsgQ2hhcnRJbnRlbnQsIENoYXJ0UmVzcG9uc2UsIENoYXJ0U3BlYywgR3JhbnVsYXJpdHkgfSBmcm9tICcuL3R5cGVzJztcblxuY29uc3QgR1JBTlVMQVJJVFlfTUFQOiBSZWNvcmQ8c3RyaW5nLCBHcmFudWxhcml0eT4gPSB7XG4gIGRhaWx5OiAnZGF5JyxcbiAgd2Vla2x5OiAnd2VlaycsXG4gIG1vbnRobHk6ICdtb250aCcsXG4gIHF1YXJ0ZXJseTogJ3F1YXJ0ZXInLFxuICB5ZWFybHk6ICd5ZWFyJyxcbiAgYW5udWFsOiAneWVhcicsXG4gIGRheTogJ2RheScsXG4gIHdlZWs6ICd3ZWVrJyxcbiAgbW9udGg6ICdtb250aCcsXG4gIHF1YXJ0ZXI6ICdxdWFydGVyJyxcbiAgeWVhcjogJ3llYXInLFxufTtcblxuZXhwb3J0IGNsYXNzIEludGVudFJlc29sdmVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBsbG06IExMTVByb3ZpZGVyLFxuICAgIHByaXZhdGUgYWRhcHRlcjogRGF0YUFkYXB0ZXJcbiAgKSB7fVxuXG4gIGFzeW5jIHJlc29sdmUocHJvbXB0OiBzdHJpbmcpOiBQcm9taXNlPENoYXJ0UmVzcG9uc2U+IHtcbiAgICAvLyBCdWlsZCBjb250ZXh0IGZvciBMTE1cbiAgICBjb25zdCBkYXRhc2V0czogUmVjb3JkPHN0cmluZywgeyBtZXRyaWNzOiBzdHJpbmdbXTsgZGltZW5zaW9uczogc3RyaW5nW10gfT4gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGRzIG9mIHRoaXMuYWRhcHRlci5nZXRBdmFpbGFibGVEYXRhc2V0cygpKSB7XG4gICAgICBkYXRhc2V0c1tkc10gPSB7XG4gICAgICAgIG1ldHJpY3M6IHRoaXMuYWRhcHRlci5nZXRBdmFpbGFibGVNZXRyaWNzKGRzKSxcbiAgICAgICAgZGltZW5zaW9uczogdGhpcy5hZGFwdGVyLmdldEF2YWlsYWJsZURpbWVuc2lvbnMoZHMpLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZXh0OiBJbnRlbnRDb250ZXh0ID0ge1xuICAgICAgZGF0YXNldHMsXG4gICAgICBhdmFpbGFibGVDaGFydFR5cGVzOiBbJ2JhcicsICdsaW5lJywgJ3BpZScsICdkb3VnaG51dCcsICdhcmVhJywgJ3NjYXR0ZXInXSxcbiAgICB9O1xuXG4gICAgLy8gR2VuZXJhdGUgYW5kIG5vcm1hbGl6ZSBpbnRlbnRcbiAgICBjb25zdCBpbnRlbnQgPSBhd2FpdCB0aGlzLmxsbS5nZW5lcmF0ZUludGVudChwcm9tcHQsIGNvbnRleHQpO1xuICAgIHRoaXMubm9ybWFsaXplSW50ZW50KGludGVudCk7XG5cbiAgICAvLyBFeGVjdXRlIHF1ZXJ5XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuYWRhcHRlci5leGVjdXRlUXVlcnkoaW50ZW50KTtcblxuICAgIC8vIEJ1aWxkIHJlc3BvbnNlXG4gICAgcmV0dXJuIHtcbiAgICAgIGNoYXJ0U3BlYzogdGhpcy5idWlsZENoYXJ0U3BlYyhpbnRlbnQpLFxuICAgICAgZGF0YSxcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIGdlbmVyYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGRhdGFzZXQ6IGludGVudC5kYXRhc2V0LFxuICAgICAgICByZWNvcmRDb3VudDogZGF0YS5sYWJlbHMubGVuZ3RoLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBub3JtYWxpemVJbnRlbnQoaW50ZW50OiBDaGFydEludGVudCk6IHZvaWQge1xuICAgIGlmIChpbnRlbnQuZGltZW5zaW9ucykge1xuICAgICAgZm9yIChjb25zdCBkaW0gb2YgaW50ZW50LmRpbWVuc2lvbnMpIHtcbiAgICAgICAgaWYgKGRpbS5ncmFudWxhcml0eSkge1xuICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBHUkFOVUxBUklUWV9NQVBbZGltLmdyYW51bGFyaXR5LnRvTG93ZXJDYXNlKCldO1xuICAgICAgICAgIGlmIChub3JtYWxpemVkKSBkaW0uZ3JhbnVsYXJpdHkgPSBub3JtYWxpemVkO1xuICAgICAgICAgIGVsc2UgZGVsZXRlIGRpbS5ncmFudWxhcml0eTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRDaGFydFNwZWMoaW50ZW50OiBDaGFydEludGVudCk6IENoYXJ0U3BlYyB7XG4gICAgY29uc3QgZGltZW5zaW9uID0gaW50ZW50LmRpbWVuc2lvbnM/LlswXTtcbiAgICBjb25zdCBtZXRyaWMgPSBpbnRlbnQubWV0cmljc1swXTtcbiAgICBjb25zdCBtZXRyaWNMYWJlbCA9IG1ldHJpYy5sYWJlbCA/PyBgJHttZXRyaWMuYWdncmVnYXRpb259KCR7bWV0cmljLmZpZWxkfSlgO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGludGVudC5jaGFydFR5cGUsXG4gICAgICB0aXRsZTogaW50ZW50LnRpdGxlID8/IGAke21ldHJpY0xhYmVsfSBieSAke2RpbWVuc2lvbj8uZmllbGQgPz8gJ3ZhbHVlJ31gLFxuICAgICAgeEF4aXM6IGRpbWVuc2lvbiA/IHsgbGFiZWw6IGRpbWVuc2lvbi5maWVsZCwgdHlwZTogJ2NhdGVnb3J5JyB9IDogdW5kZWZpbmVkLFxuICAgICAgeUF4aXM6IHsgbGFiZWw6IG1ldHJpY0xhYmVsLCB0eXBlOiAnbGluZWFyJyB9LFxuICAgICAgbGVnZW5kOiB7XG4gICAgICAgIHBvc2l0aW9uOiAndG9wJyxcbiAgICAgICAgZGlzcGxheTogaW50ZW50Lm1ldHJpY3MubGVuZ3RoID4gMSB8fCBpbnRlbnQuY2hhcnRUeXBlID09PSAncGllJyB8fCBpbnRlbnQuY2hhcnRUeXBlID09PSAnZG91Z2hudXQnLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG4iXSwibmFtZXMiOlsiR1JBTlVMQVJJVFlfTUFQIiwiZGFpbHkiLCJ3ZWVrbHkiLCJtb250aGx5IiwicXVhcnRlcmx5IiwieWVhcmx5IiwiYW5udWFsIiwiZGF5Iiwid2VlayIsIm1vbnRoIiwicXVhcnRlciIsInllYXIiLCJJbnRlbnRSZXNvbHZlciIsImNvbnN0cnVjdG9yIiwibGxtIiwiYWRhcHRlciIsInJlc29sdmUiLCJwcm9tcHQiLCJkYXRhc2V0cyIsImRzIiwiZ2V0QXZhaWxhYmxlRGF0YXNldHMiLCJtZXRyaWNzIiwiZ2V0QXZhaWxhYmxlTWV0cmljcyIsImRpbWVuc2lvbnMiLCJnZXRBdmFpbGFibGVEaW1lbnNpb25zIiwiY29udGV4dCIsImF2YWlsYWJsZUNoYXJ0VHlwZXMiLCJpbnRlbnQiLCJnZW5lcmF0ZUludGVudCIsIm5vcm1hbGl6ZUludGVudCIsImRhdGEiLCJleGVjdXRlUXVlcnkiLCJjaGFydFNwZWMiLCJidWlsZENoYXJ0U3BlYyIsIm1ldGFkYXRhIiwiZ2VuZXJhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJkYXRhc2V0IiwicmVjb3JkQ291bnQiLCJsYWJlbHMiLCJsZW5ndGgiLCJkaW0iLCJncmFudWxhcml0eSIsIm5vcm1hbGl6ZWQiLCJ0b0xvd2VyQ2FzZSIsImRpbWVuc2lvbiIsIm1ldHJpYyIsIm1ldHJpY0xhYmVsIiwibGFiZWwiLCJhZ2dyZWdhdGlvbiIsImZpZWxkIiwidHlwZSIsImNoYXJ0VHlwZSIsInRpdGxlIiwieEF4aXMiLCJ1bmRlZmluZWQiLCJ5QXhpcyIsImxlZ2VuZCIsInBvc2l0aW9uIiwiZGlzcGxheSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/resolver.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/chart.ts":
/*!********************************!*\
  !*** ./src/pages/api/chart.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_llm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/llm */ \"(api)/./src/lib/llm.ts\");\n/* harmony import */ var _lib_adapters__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/adapters */ \"(api)/./src/lib/adapters.ts\");\n/* harmony import */ var _lib_resolver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/resolver */ \"(api)/./src/lib/resolver.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_llm__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_llm__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst adapter = new _lib_adapters__WEBPACK_IMPORTED_MODULE_1__.MockDataAdapter();\nconst llm = new _lib_llm__WEBPACK_IMPORTED_MODULE_0__.OpenAIProvider(process.env.OPENAI_API_KEY || \"\", process.env.OPENAI_MODEL || \"gpt-4o-mini\");\nconst resolver = new _lib_resolver__WEBPACK_IMPORTED_MODULE_2__.IntentResolver(llm, adapter);\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const { prompt } = req.body;\n        if (!prompt || typeof prompt !== \"string\") {\n            return res.status(400).json({\n                error: \"Missing or invalid prompt\"\n            });\n        }\n        const result = await resolver.resolve(prompt);\n        return res.status(200).json(result);\n    } catch (error) {\n        console.error(\"Chart generation error:\", error);\n        return res.status(500).json({\n            error: error instanceof Error ? error.message : \"Internal server error\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2NoYXJ0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFDMkM7QUFDTTtBQUNEO0FBRWhELE1BQU1HLFVBQVUsSUFBSUYsMERBQWVBO0FBQ25DLE1BQU1HLE1BQU0sSUFBSUosb0RBQWNBLENBQzVCSyxRQUFRQyxHQUFHLENBQUNDLGNBQWMsSUFBSSxJQUM5QkYsUUFBUUMsR0FBRyxDQUFDRSxZQUFZLElBQUk7QUFFOUIsTUFBTUMsV0FBVyxJQUFJUCx5REFBY0EsQ0FBQ0UsS0FBS0Q7QUFFMUIsZUFBZU8sUUFBUUMsR0FBbUIsRUFBRUMsR0FBb0I7SUFDN0UsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQVE7UUFDekIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXFCO0lBQzVEO0lBRUEsSUFBSTtRQUNGLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdOLElBQUlPLElBQUk7UUFFM0IsSUFBSSxDQUFDRCxVQUFVLE9BQU9BLFdBQVcsVUFBVTtZQUN6QyxPQUFPTCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQTRCO1FBQ25FO1FBRUEsTUFBTUcsU0FBUyxNQUFNVixTQUFTVyxPQUFPLENBQUNIO1FBQ3RDLE9BQU9MLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNJO0lBQzlCLEVBQUUsT0FBT0gsT0FBTztRQUNkSyxRQUFRTCxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxPQUFPSixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxPQUFPQSxpQkFBaUJNLFFBQVFOLE1BQU1PLE9BQU8sR0FBRztRQUNsRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9tcHRjaGFydC1uZXh0anMtcGFnZXMtcm91dGVyLy4vc3JjL3BhZ2VzL2FwaS9jaGFydC50cz8zNzljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHsgT3BlbkFJUHJvdmlkZXIgfSBmcm9tICdAL2xpYi9sbG0nO1xuaW1wb3J0IHsgTW9ja0RhdGFBZGFwdGVyIH0gZnJvbSAnQC9saWIvYWRhcHRlcnMnO1xuaW1wb3J0IHsgSW50ZW50UmVzb2x2ZXIgfSBmcm9tICdAL2xpYi9yZXNvbHZlcic7XG5cbmNvbnN0IGFkYXB0ZXIgPSBuZXcgTW9ja0RhdGFBZGFwdGVyKCk7XG5jb25zdCBsbG0gPSBuZXcgT3BlbkFJUHJvdmlkZXIoXG4gIHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZIHx8ICcnLFxuICBwcm9jZXNzLmVudi5PUEVOQUlfTU9ERUwgfHwgJ2dwdC00by1taW5pJ1xuKTtcbmNvbnN0IHJlc29sdmVyID0gbmV3IEludGVudFJlc29sdmVyKGxsbSwgYWRhcHRlcik7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBwcm9tcHQgfSA9IHJlcS5ib2R5O1xuXG4gICAgaWYgKCFwcm9tcHQgfHwgdHlwZW9mIHByb21wdCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTWlzc2luZyBvciBpbnZhbGlkIHByb21wdCcgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzb2x2ZXIucmVzb2x2ZShwcm9tcHQpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihyZXN1bHQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0NoYXJ0IGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyxcbiAgICB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk9wZW5BSVByb3ZpZGVyIiwiTW9ja0RhdGFBZGFwdGVyIiwiSW50ZW50UmVzb2x2ZXIiLCJhZGFwdGVyIiwibGxtIiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwiT1BFTkFJX01PREVMIiwicmVzb2x2ZXIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwicHJvbXB0IiwiYm9keSIsInJlc3VsdCIsInJlc29sdmUiLCJjb25zb2xlIiwiRXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/chart.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fchart&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fchart.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();